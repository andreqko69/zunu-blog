# üìò –õ–µ–∫—Ü—ñ—è: Scope —Ç–∞ Closure —É JavaScript

## üß© –í—Å—Ç—É–ø

–û–¥–Ω–∞ –∑ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏—Ö –∫–æ–Ω—Ü–µ–ø—Ü—ñ–π —É JavaScript ‚Äî —Ü–µ **–æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—ñ (scope)** —Ç–∞ **–∑–∞–º–∏–∫–∞–Ω–Ω—è (closure)**. –í–æ–Ω–∏ –≤–∏–∑–Ω–∞—á–∞—é—Ç—å, —è–∫ —ñ –¥–µ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —É –≤–∞—à–æ–º—É –∫–æ–¥—ñ, —ñ —è–∫ —Ñ—É–Ω–∫—Ü—ñ—ó "–∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É—é—Ç—å" —Å–≤—ñ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω–∞–≤—ñ—Ç—å –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.

---

## 1. üóÇÔ∏è Scope (–û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—ñ)

**–û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—ñ** ‚Äî —Ü–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç, —É —è–∫–æ–º—É –≤–∏–∑–Ω–∞—á–µ–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ—ó, —ñ –¥–µ –¥–æ –Ω–∏—Ö –º–æ–∂–Ω–∞ –∑–≤–µ—Ä—Ç–∞—Ç–∏—Å—è.

### –¢–∏–ø–∏ scope —É JavaScript:
1. **Global Scope (–ì–ª–æ–±–∞–ª—å–Ω–∞ –æ–±–ª–∞—Å—Ç—å)**
   –ó–º—ñ–Ω–Ω—ñ, –æ–≥–æ–ª–æ—à–µ–Ω—ñ –ø–æ–∑–∞ –±—É–¥—å-—è–∫–æ—é —Ñ—É–Ω–∫—Ü—ñ—î—é –∞–±–æ –±–ª–æ–∫–æ–º, –¥–æ—Å—Ç—É–ø–Ω—ñ –≤—Å—é–¥–∏.

   ```js
   let globalVar = "–Ø –≥–ª–æ–±–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–Ω–∞";

   function showGlobal() {
     console.log(globalVar); // –î–æ—Å—Ç—É–ø–Ω–∞
   }

   showGlobal();
   console.log(globalVar); // –¢–∞–∫–æ–∂ –¥–æ—Å—Ç—É–ø–Ω–∞
   ```

2. **Function Scope (–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ –æ–±–ª–∞—Å—Ç—å)**
   –ó–º—ñ–Ω–Ω—ñ, –æ–≥–æ–ª–æ—à–µ–Ω—ñ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó, –¥–æ—Å—Ç—É–ø–Ω—ñ —Ç—ñ–ª—å–∫–∏ —É —Ü—ñ–π —Ñ—É–Ω–∫—Ü—ñ—ó.

   ```js
   function example() {
     let innerVar = "–í—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó";
     console.log(innerVar);
   }

   example();
   // console.log(innerVar); // ‚ùå –ü–æ–º–∏–ª–∫–∞: –∑–º—ñ–Ω–Ω–∞ –Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–∞
   ```

3. **Block Scope (–ë–ª–æ–∫–æ–≤–∞ –æ–±–ª–∞—Å—Ç—å)**
   –ö–ª—é—á–æ–≤—ñ —Å–ª–æ–≤–∞ `let` —ñ `const` —Å—Ç–≤–æ—Ä—é—é—Ç—å –∑–º—ñ–Ω–Ω—ñ, —è–∫—ñ —ñ—Å–Ω—É—é—Ç—å —Ç—ñ–ª—å–∫–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –±–ª–æ–∫—É `{...}`.

   ```js
   if (true) {
     let blockVar = "–ë–ª–æ–∫–æ–≤–∞ –∑–º—ñ–Ω–Ω–∞";
     console.log(blockVar); // ‚úÖ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç—É—Ç
   }

   // console.log(blockVar); // ‚ùå –ü–æ–∑–∞–±–ª–æ–∫–æ–º ‚Äî –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
   ```

---

## 2. üåç Global Object —Ç–∞ `window`

–£ –±—Ä–∞—É–∑–µ—Ä—ñ –≤—Å—ñ –≥–ª–æ–±–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ, —Ñ—É–Ω–∫—Ü—ñ—ó —Ç–∞ –æ–±‚Äô—î–∫—Ç–∏ –ø—Ä–∏–∫—Ä—ñ–ø–ª—é—é—Ç—å—Å—è –¥–æ **–≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –æ–±‚Äô—î–∫—Ç–∞**.
–£ –±—Ä–∞—É–∑–µ—Ä—ñ —Ü–∏–º –æ–±‚Äô—î–∫—Ç–æ–º —î **`window`**.

```js
var greeting = "–ü—Ä–∏–≤—ñ—Ç!";

console.log(window.greeting); // "–ü—Ä–∏–≤—ñ—Ç!"
```

–ö–æ–ª–∏ –≤–∏ –æ–≥–æ–ª–æ—à—É—î—Ç–µ –∑–º—ñ–Ω–Ω—É —á–µ—Ä–µ–∑ `var` —É –≥–ª–æ–±–∞–ª—å–Ω—ñ–π –æ–±–ª–∞—Å—Ç—ñ, –≤–æ–Ω–∞ **—Å—Ç–∞—î –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—é –æ–±‚Äô—î–∫—Ç–∞ `window`**.
–ê–ª–µ –∑–º—ñ–Ω–Ω—ñ, –æ–≥–æ–ª–æ—à–µ–Ω—ñ —á–µ—Ä–µ–∑ `let` –∞–±–æ `const`, **–Ω–µ –¥–æ–¥–∞—é—Ç—å—Å—è –¥–æ `window`**.

```js
let name = "–û–ª—è";
var city = "–ö–∏—ó–≤";

console.log(window.city); // "–ö–∏—ó–≤"
console.log(window.name); // undefined
```

> üîé **–ü—Ä–∏–º—ñ—Ç–∫–∞:** —É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ Node.js –∑–∞–º—ñ—Å—Ç—å `window` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≥–ª–æ–±–∞–ª—å–Ω–∏–π –æ–±‚Äô—î–∫—Ç `global`.

---

## 3. üß† Lexical Scope (–õ–µ–∫—Å–∏—á–Ω–∞ –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—ñ)

JavaScript –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **–ª–µ–∫—Å–∏—á–Ω—É –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—ñ**, —Ç–æ–±—Ç–æ –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—ñ –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è **–º—ñ—Å—Ü–µ–º –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó**, –∞ –Ω–µ –º—ñ—Å—Ü–µ–º —ó—ó –≤–∏–∫–ª–∏–∫—É.

```js
function outer() {
  let outerVar = "–Ø –∑ outer";

  function inner() {
    console.log(outerVar); // –î–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ –ª–µ–∫—Å–∏—á–Ω–µ –æ—Ç–æ—á–µ–Ω–Ω—è
  }

  inner();
}

outer();
```

–§—É–Ω–∫—Ü—ñ—è `inner` "–±–∞—á–∏—Ç—å" –∑–º—ñ–Ω–Ω—É `outerVar`, –±–æ –≤–æ–Ω–∞ –±—É–ª–∞ **–æ–≥–æ–ª–æ—à–µ–Ω–∞** –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `outer`.

---

## 4. üîí Closure (–ó–∞–º–∏–∫–∞–Ω–Ω—è)

**–ó–∞–º–∏–∫–∞–Ω–Ω—è (closure)** ‚Äî —Ü–µ —Ñ—É–Ω–∫—Ü—ñ—è, —è–∫–∞ "–∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É—î" —Å–≤–æ—é –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—ñ, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤–æ–Ω–∞ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è **–ø–æ–∑–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º** —Ü—ñ—î—ó –æ–±–ª–∞—Å—Ç—ñ.

### –ü—Ä–∏–∫–ª–∞–¥:

```js
function makeCounter() {
  let count = 0; // –ø—Ä–∏–≤–∞—Ç–Ω–∞ –∑–º—ñ–Ω–Ω–∞

  return function () {
    count++;
    console.log(count);
  };
}

const counter1 = makeCounter();
counter1(); // 1
counter1(); // 2

const counter2 = makeCounter();
counter2(); // 1
```

> –¢—É—Ç `count` –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞–ø—Ä—è–º—É, –∞–ª–µ —ó—ó –∑–Ω–∞—á–µ–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó, —è–∫–∞ –±—É–ª–∞ –ø–æ–≤–µ—Ä–Ω–µ–Ω–∞.
> –¶–µ —ñ —î **–∑–∞–º–∏–∫–∞–Ω–Ω—è** ‚Äî —Ñ—É–Ω–∫—Ü—ñ—è —É—Ç—Ä–∏–º—É—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å–≤–æ—î –ª–µ–∫—Å–∏—á–Ω–µ –æ—Ç–æ—á–µ–Ω–Ω—è.

---

## 5. ‚öôÔ∏è –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–∞–º–∏–∫–∞–Ω—å

–ó–∞–º–∏–∫–∞–Ω–Ω—è —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è:
- **–Ü–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—ó** (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö)
- **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É**
- **–§—É–Ω–∫—Ü—ñ–π –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º**
- **–û–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –ø–æ–¥—ñ–π**

### –ü—Ä–∏–∫–ª–∞–¥: –ø—Ä–∏–≤–∞—Ç–Ω—ñ –∑–º—ñ–Ω–Ω—ñ
```js
function createUser(name) {
  let score = 0;

  return {
    getName: () => name,
    increaseScore: () => ++score,
    getScore: () => score
  };
}

const user = createUser("–û–ª—è");
console.log(user.getName()); // –û–ª—è
user.increaseScore();
console.log(user.getScore()); // 1
```

---

## 6. üß© –ß–∞—Å—Ç—ñ –ø–æ–º–∏–ª–∫–∏ –∑—ñ scope

```js
for (var i = 0; i < 3; i++) {
  setTimeout(() => console.log(i), 1000);
}
// –í–∏–≤–µ–¥–µ: 3, 3, 3  ‚ùå —á–µ—Ä–µ–∑ function scope 'var'

for (let i = 0; i < 3; i++) {
  setTimeout(() => console.log(i), 1000);
}
// –í–∏–≤–µ–¥–µ: 0, 1, 2 ‚úÖ —á–µ—Ä–µ–∑ block scope 'let'
```

---

## üß≠ –ö–æ—Ä–æ—Ç–∫–µ —Ä–µ–∑—é–º–µ

| –ö–æ–Ω—Ü–µ–ø—Ç | –ö–ª—é—á–æ–≤–∞ —ñ–¥–µ—è |
|----------|---------------|
| **Scope** | –í–∏–∑–Ω–∞—á–∞—î, –¥–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –∑–º—ñ–Ω–Ω–∞ |
| **Lexical Scope** | –í–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è –º—ñ—Å—Ü–µ–º –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è |
| **Closure** | –§—É–Ω–∫—Ü—ñ—è –∑–∞–ø–∞–º‚Äô—è—Ç–æ–≤—É—î —Å–≤–æ—î –æ—Ç–æ—á–µ–Ω–Ω—è |
| **Block Scope (`let`, `const`)** | –û–±–º–µ–∂—É—î –∑–º—ñ–Ω–Ω—É –¥–æ –±–ª–æ–∫–∞ `{}` |
| **Function Scope (`var`)** | –û–±–º–µ–∂—É—î –∑–º—ñ–Ω–Ω—É –¥–æ —Ñ—É–Ω–∫—Ü—ñ—ó |
| **window / global** | –ì–ª–æ–±–∞–ª—å–Ω–∏–π –æ–±‚Äô—î–∫—Ç –¥–æ–≤–∫–æ–ª–∞ –≤—Å—å–æ–≥–æ –∫–æ–¥—É |

---

## üß© –í–∏—Å–Ω–æ–≤–æ–∫

`Scope` —ñ `Closure` ‚Äî —Ü–µ –æ—Å–Ω–æ–≤–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ –∑–º—ñ–Ω–Ω–∏—Ö —É JavaScript.
–†–æ–∑—É–º—ñ–Ω–Ω—è —Ü–∏—Ö –¥–≤–æ—Ö –∫–æ–Ω—Ü–µ–ø—Ü—ñ–π –¥–æ–ø–æ–º–æ–∂–µ:
- —É–Ω–∏–∫–∞—Ç–∏ –Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫,
- —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —á–∏—Å—Ç–∏–π —Ç–∞ –±–µ–∑–ø–µ—á–Ω–∏–π –∫–æ–¥,
- –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –º–æ–≤–∏.

---

üìö **–î–æ–¥–∞—Ç–∫–æ–≤–æ –¥–ª—è –≤–∏–≤—á–µ–Ω–Ω—è:**
- MDN: [Closures](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures)
- MDN: [Scope](https://developer.mozilla.org/en-US/docs/Glossary/Scope)
- MDN: [Window Object](https://developer.mozilla.org/en-US/docs/Web/API/Window)

---
